<!DOCTYPE html>
<html>
<head>
 <meta charset="UTF-8">
 <title>Modify User information</title>
 <link rel="stylesheet" href="modify_user_info.css" type="text/css">
 <script>
  function getCookie(cname)
  {
   var name = cname + "=";
   var ca = document.cookie.split(';');
   for(var i=0; i<ca.length; i++)
   {
    var c = ca[i].trim();
    if (c.indexOf(name)==0) return c.substring(name.length,c.length);
   }
   return "";
  }
  window.onload = function() {
   var id = getCookie("username");
   var usertype = getCookie("type");
   const req = new XMLHttpRequest();
   req.open("POST", "modify_user_info", true);
   req.setRequestHeader('Content-Type', 'application/json');
   var jsonObj = new Object();
   jsonObj.uid = id;
   jsonObj.type = usertype;
   // req.send(JSON.stringify(
   // 	jsonObj
   // ));
   console.log(usertype);
   req.send(JSON.stringify(jsonObj));
   req.onreadystatechange = function() {
    if (req.readyState === 4) {
     console.log(req.response);
     const json = JSON.parse(req.response);
     document.getElementById("username").value=json.cusName;
     document.getElementById("gender").value=json.gender;
     document.getElementById("dob").value=json.cusDOB;
     document.getElementById("email").value=json.email;
     document.getElementById("phone").value=json.phoneNum;
     document.getElementById("address").value=json.address;
     document.getElementById("VIPstart").value=json.vipStart;
     document.getElementById("VIPend").value=json.vipEnd;
     //document.getElementById("vehicleList").innerHTML=json.vehicleList;
    }
   }
  }
 </script>
 <script  type="text/javascript" src="modify_user_info.js" >
 </script>
</head>
<body>
<div class="top">
 <!--<h3>Welcome to user information center!</h3>-->
 <h1>User information</h1>
 <span onclick="openNav()">&#9776; Menu </span>
</div>
<div class="wrapper">
 <div id="nav" class="sideNav">
  <h2>Menu</h2>
  <ul>
   <a href="../customer/customer.html"><i class="main main-home"></i>Home</a> <!--release page-->
   <!-- user info -->
   <a href="../user_info/user_info.html"><i class="main main-account"></i>My Account</a>
   <a href="../membership/membership.html"><i class="main main-membership"></i>Membership</a> <!--membership-->
  </ul>
 </div>
 <div class="info-form">
  <div class="container">
   <div class="user_info">
    <div class="one-row">
     <div class="form-group">
      <label>Customer Name: </label>
      <br>
<!--      <span id="username">Scott M</span>-->
      <input type="text" name="username" id="username">
     </div>&nbsp;&nbsp;
     <div class="form-group">
      <label for="gender">Gender: </label>
      <br>
<!--      <span id="gender">Male</span>-->
      <input type="text" name="gender" id="gender">
     </div>
    </div>
    <div class="one-row">
     <div class="form-group">
      <label>Date of Birth: </label>
      <br>
<!--      <span id="dob">01-01-1990</span>-->
      <input type="text" name="dob" id="dob">
     </div>&nbsp;&nbsp;
     <div class="form-group">
      <label for="Email">Email: </label>
      <br>
<!--      <span id="email">123123123@gmail.com</span>-->
      <input type="text" name="email" id="email">
     </div>
    </div>
    <div class="one-row">
     <div class="form-group">
      <label for="phone">Phone number: </label>
      <br>
<!--      <span id="phone">04-121-1233-12</span>-->
      <input type="text" name="phone" id="phone">
     </div>&nbsp;&nbsp;
     <div class="form-group">
      <label for="address">Address: </label>
      <br>
<!--      <span id="address">124a Gipps st, Gwynnevill, Wollongong, NSW</span>-->
      <input type="text" name="address" id="address">
     </div>
    </div>
    <div class="one-row">
     <div class="form-group">
      <label for="VIPstart">VIP start date:</label>
      <br>
<!--      <span id="VIPstart">03-03-2022</span>-->
      <input type="text" name="VIPstart" id="VIPstart">
     </div>&nbsp;&nbsp;
     <div class="form-group">
      <label for="VIPend">VIP end date: </label>
      <br>
<!--      <span id="VIPend">03-03-2023</span>-->
      <input type="text" name="VIPend" id="VIPend">
     </div>
    </div>
    <div class="one-row">
     <div class="form-group">
      <label for="vehicleList">vehicleList</label>
      <br>
<!--      <span id="vehicleList">QAQ-orz</span>-->
      <input type="text" name="vehicleList" id="vehicleList">
     </div>
    </div>
    <div class="button-center">
     <button onclick="modify()">Modify Information</button>&nbsp;&nbsp;

     <button onclick="back()">Back</button>
    </div>
   </div>
  </div>
 </div>
</div>
</body>
</html>